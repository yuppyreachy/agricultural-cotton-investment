<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>KYC Processing</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

<style>
body{
  background:black;
  color:white;
  font-family:Poppins;
  text-align:center;
  padding-top:100px;
}
h1{color:gold;font-size:40px;}
#timer{
  font-size:60px;
  margin:20px 0;
  color:gold;
}
.status{
  margin-top:20px;
  font-size:18px;
}
.btn{
  margin-top:30px;
  padding:15px 30px;
  background:gold;
  border:none;
  border-radius:10px;
  font-weight:bold;
  cursor:pointer;
}
</style>
</head>

<body>

<h1>KYC Under Review</h1>
<p>Admin is reviewing your identity verification</p>

<div id="timer">30:00</div>
<div class="status" id="statusText">Waiting for admin approval...</div>

<button class="btn" onclick="checkStatus()">Check Status</button>

<script>
// ===== 30 MIN COUNTDOWN =====
let time = 1800; // 30 minutes (use 60 for testing)

const timer = setInterval(()=>{
  let minutes = Math.floor(time/60);
  let seconds = time%60;

  document.getElementById("timer").innerHTML =
  `${minutes}:${seconds<10?'0'+seconds:seconds}`;

  time--;

  if(time<=0){
    clearInterval(timer);
    finalResult();
  }
},1000);


// ===== ADMIN RESULT SYSTEM (DEMO) =====
function finalResult(){
  let result = Math.floor(Math.random()*3); 
  // 0 = decline, 1 = approve, 2 = pending

  if(result===0){
    document.getElementById("statusText").innerHTML =
    "❌ Verification failed. Admin declined.";

    // redirect after 4 sec
    setTimeout(()=>{
      window.location.href="/dashboard";
    },4000);
  }

  else if(result===1){
    document.getElementById("statusText").innerHTML =
    "✅ KYC Approved successfully! Redirecting to dashboard...";

    setTimeout(()=>{
      window.location.href="/dashboard";
    },4000);
  }

  else{
    document.getElementById("statusText").innerHTML =
    "⚠️ Still pending. Try again later... Redirecting";

    setTimeout(()=>{
      window.location.href="/dashboard";
    },4000);
  }
}


// ===== MANUAL CHECK BUTTON =====
function checkStatus(){
  alert("Admin still reviewing your KYC... please wait.");
}
</script>

</script>

</body>
</html>
